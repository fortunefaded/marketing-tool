# Meta API çµ±åˆãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰

## ðŸŽ¯ ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### æ®µéšŽçš„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œè¨ˆç”»

#### **Stage 1: ãƒ­ãƒ¼ã‚«ãƒ«å˜ä½“ãƒ†ã‚¹ãƒˆ** âœ…
```bash
# ã™ã§ã«å®Ÿæ–½æ¸ˆã¿
npm test meta-api-optimizer.test.ts
```

#### **Stage 2: ãƒ¢ãƒƒã‚¯çµ±åˆãƒ†ã‚¹ãƒˆ** ðŸŸ¢
```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å®Ÿè¡Œï¼ˆAPIå‘¼ã³å‡ºã—ãªã—ï¼‰
npm test meta-api-integration.test.ts
```

#### **Stage 3: ãƒ©ã‚¤ãƒ–çµ±åˆãƒ†ã‚¹ãƒˆ** ðŸ”´
```bash
# å®Ÿéš›ã®Meta APIã‚’ä½¿ç”¨ï¼ˆè¦èªè¨¼æƒ…å ±ï¼‰
VITE_TEST_MODE=live \
VITE_META_ACCESS_TOKEN=your_token_here \
VITE_META_ACCOUNT_ID=act_123456789 \
npm test meta-api-integration.test.ts
```

## ðŸ“Š ãƒ†ã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å¿…é ˆç¢ºèªé …ç›®

- [ ] **æŽ¥ç¶šæ€§**: Meta APIã¸ã®æŽ¥ç¶šãŒç¢ºç«‹ã§ãã‚‹ã‹
- [ ] **èªè¨¼**: ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ãŒæœ‰åŠ¹ã‹
- [ ] **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: 200req/h, 4800req/dayã®åˆ¶é™å†…ã§å‹•ä½œã™ã‚‹ã‹
- [ ] **ãƒ‡ãƒ¼ã‚¿å–å¾—**: åºƒå‘Šã‚¤ãƒ³ã‚µã‚¤ãƒˆãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãå–å¾—ã§ãã‚‹ã‹
- [ ] **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: ã‚¨ãƒ©ãƒ¼æ™‚ã«é©åˆ‡ã«ãƒªã‚«ãƒãƒªã™ã‚‹ã‹
- [ ] **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: 3å±¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ­£ã—ãæ©Ÿèƒ½ã™ã‚‹ã‹
- [ ] **å·®åˆ†æ›´æ–°**: DifferentialUpdateEngineãŒåŠ¹çŽ‡çš„ã«å‹•ä½œã™ã‚‹ã‹

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¤ | ç¾åœ¨å€¤ |
|------|--------|--------|
| APIå‘¼ã³å‡ºã—å‰Šæ¸›çŽ‡ | 90%ä»¥ä¸Š | - |
| å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ | 500msä»¥ä¸‹ | - |
| ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆçŽ‡ | 80%ä»¥ä¸Š | - |
| ã‚¨ãƒ©ãƒ¼çŽ‡ | 1%ä»¥ä¸‹ | - |

## ðŸš€ å®Ÿè¡Œæ‰‹é †

### 1. ç’°å¢ƒæº–å‚™

```bash
# .env.localãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
cat > .env.local << EOF
VITE_TEST_MODE=mock
VITE_META_ACCESS_TOKEN=your_token_here
VITE_META_ACCOUNT_ID=act_123456789
EOF
```

### 2. æ®µéšŽçš„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# Phase 1: æŽ¥ç¶šãƒ†ã‚¹ãƒˆã®ã¿
npm test meta-api-integration.test.ts -- -t "Phase 1"

# Phase 2: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒ†ã‚¹ãƒˆ
npm test meta-api-integration.test.ts -- -t "Phase 2"

# Phase 3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
npm test meta-api-integration.test.ts -- -t "Phase 3"
```

### 3. æœ¬ç•ªç’°å¢ƒãƒ†ã‚¹ãƒˆ

```bash
# /ad-fatigueãƒšãƒ¼ã‚¸ã§ã®å‹•ä½œç¢ºèª
npm run dev

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª
# http://localhost:5173/ad-fatigue
# - ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‹
# - ãƒªãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ‡ãƒ¼ã‚¿ãŒä¿æŒã•ã‚Œã‚‹ã‹
# - æ›´æ–°ãƒœã‚¿ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹ã‹
```

## âš ï¸ æ³¨æ„äº‹é …

### APIåˆ¶é™
- **æ™‚é–“åˆ¶é™**: 200ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚
- **æ—¥æ¬¡åˆ¶é™**: 4800ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥
- **ãƒãƒ¼ã‚¹ãƒˆåˆ¶é™**: 10ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ç§’

### ãƒ†ã‚¹ãƒˆæ™‚ã®è€ƒæ…®äº‹é …
1. **æœ¬ç•ªãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨ã—ãªã„**: ãƒ†ã‚¹ãƒˆç”¨ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨
2. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«æ³¨æ„**: å¤§é‡ã®ãƒ†ã‚¹ãƒˆã‚’çŸ­æ™‚é–“ã§å®Ÿè¡Œã—ãªã„
3. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢**: ãƒ†ã‚¹ãƒˆå‰ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
4. **ãƒ­ã‚°ç¢ºèª**: vibeloggerã®å‡ºåŠ›ã‚’ç¢ºèª

## ðŸ“ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. èªè¨¼ã‚¨ãƒ©ãƒ¼ (Error 190)
```
åŽŸå› : ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹ã¾ãŸã¯æœŸé™åˆ‡ã‚Œ
å¯¾å‡¦: æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¦å†è¨­å®š
```

#### 2. ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ (Error 32/613)
```
åŽŸå› : APIå‘¼ã³å‡ºã—åˆ¶é™è¶…éŽ
å¯¾å‡¦: 1æ™‚é–“å¾…æ©Ÿã—ã¦ã‹ã‚‰å†å®Ÿè¡Œ
```

#### 3. ãƒ‡ãƒ¼ã‚¿ä¸æ•´åˆ
```
åŽŸå› : ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä¸æ•´åˆ
å¯¾å‡¦: convexã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¦å†å®Ÿè¡Œ
```

## ðŸ”„ ç¶™ç¶šçš„æ”¹å–„

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
1. **E2Eãƒ†ã‚¹ãƒˆè¿½åŠ **: Playwrightã§ã®è‡ªå‹•åŒ–
2. **è² è·ãƒ†ã‚¹ãƒˆ**: å¤§é‡ãƒ‡ãƒ¼ã‚¿ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æ¸¬å®š
3. **ç›£è¦–å¼·åŒ–**: Datadogã‚„Sentryã¨ã®çµ±åˆ
4. **A/Bãƒ†ã‚¹ãƒˆ**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®æœ€é©åŒ–